<common:LayoutAwarePage x:Class="Latest_Chatty_8.Views.Chatty"
                        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                        xmlns:common="using:Latest_Chatty_8.Shared"
                        xmlns:controls="using:Latest_Chatty_8.Controls"
                        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                        xmlns:settings="using:Latest_Chatty_8.Settings"
                        DataContext="{Binding}"
                        mc:Ignorable="d">

	<Grid Background="{StaticResource ApplicationPageBackgroundThemeBrush}">
		<VisualStateManager.VisualStateGroups>
			<VisualStateGroup>
				<VisualState x:Name="VisualStatePhone">
					<VisualState.StateTriggers>
						<AdaptiveTrigger MinWindowWidth="0" />
					</VisualState.StateTriggers>
					<VisualState.Setters>
						<Setter Target="splitter.DisplayMode" Value="Overlay" />
						<Setter Target="chattyControl.Margin" Value="0" />
					</VisualState.Setters>
				</VisualState>
				<VisualState x:Name="VisualStateMid">
					<VisualState.StateTriggers>
						<AdaptiveTrigger MinWindowWidth="600" />
					</VisualState.StateTriggers>
				</VisualState>
				<VisualState x:Name="VisualStateBig">
					<VisualState.StateTriggers>
						<AdaptiveTrigger MinWindowWidth="800" />
					</VisualState.StateTriggers>
				</VisualState>
			</VisualStateGroup>
		</VisualStateManager.VisualStateGroups>
		<Grid.RowDefinitions>
			<RowDefinition Height="40" />
			<RowDefinition />
		</Grid.RowDefinitions>

		<Grid Grid.Row="0" Background="#ED2300">
			<StackPanel Orientation="Horizontal">
				<ToggleButton x:Name="BurguerToggle"
				              Background="Transparent"
				              IsChecked="False">
					<FontIcon x:Name="Hamburger"
					          FontFamily="Segoe MDL2 Assets"
					          Glyph="" />
				</ToggleButton>
				<TextBlock VerticalAlignment="Center" Text="{Binding CurrentViewName}" />
			</StackPanel>
		</Grid>

		<controls:ChattyControl x:Name="chattyControl"
		                        Grid.Row="1"
		                        Margin="40,0,0,0" />

		<settings:MainSettings x:Name="settings"
		                       Grid.Row="1"
		                       Margin="40,0,0,0"
		                       Visibility="Collapsed" />

		<SplitView x:Name="splitter"
		           Grid.Row="1"
		           CompactPaneLength="40"
		           DisplayMode="CompactOverlay"
		           IsPaneOpen="{Binding IsChecked,
		                                ElementName=BurguerToggle,
		                                Mode=TwoWay}"
		           OpenPaneLength="320"
		           PaneBackground="#ED2300"
		           PanePlacement="Left">
			<SplitView.Pane>
				<Grid>
					<StackPanel>
						<Button Click="ChattyButtonClicked">
							<TextBlock>
								<Run FontFamily="Segoe MDL2 Assets"></Run>
								Chatty
							</TextBlock>
						</Button>
						<Button>
							<TextBlock>
								<Run FontFamily="Segoe MDL2 Assets"></Run>
								Messages
							</TextBlock>
						</Button>
					</StackPanel>
					<StackPanel VerticalAlignment="Bottom">
						<Button Click="SettingsButtonClicked">
							<TextBlock>
								<Run FontFamily="Segoe MDL2 Assets"></Run>
								Settings
							</TextBlock>
						</Button>
					</StackPanel>
				</Grid>
			</SplitView.Pane>
		</SplitView>
	</Grid>
</common:LayoutAwarePage>
