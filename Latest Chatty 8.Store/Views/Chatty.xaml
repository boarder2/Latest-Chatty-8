<views:ShellView x:Class="Latest_Chatty_8.Views.Chatty"
                 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                 xmlns:controls="using:Latest_Chatty_8.Controls"
                 xmlns:converters="using:Latest_Chatty_8.Converters"
                 xmlns:core="using:Latest_Chatty_8"
                 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                 xmlns:local="using:Latest_Chatty_8.Controls"
                 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                 xmlns:model="using:Latest_Chatty_8.DataModel"
                 xmlns:views="using:Latest_Chatty_8.Views"
                 x:Name="pageRoot"
                 DataContext="{Binding RelativeSource={RelativeSource Self}}"
                 NavigationCacheMode="Required"
                 mc:Ignorable="d">
	<Page.Resources>
		<ResourceDictionary>
			<converters:ThreadLifeColorConverter x:Key="ThreadLifeColor" />
		</ResourceDictionary>
	</Page.Resources>
	<Grid>
		<Grid.Resources>
			<MenuFlyout x:Key="WebFlyout">
				<MenuFlyoutItem Click="CopyImageLinkClicked" Text="Copy image link" />
				<MenuFlyoutItem Click="OpenImageInBrowserClicked" Text="Open image in browser" />
			</MenuFlyout>
		</Grid.Resources>
		<VisualStateManager.VisualStateGroups>
			<VisualStateGroup>
				<!--<VisualStateGroup.Transitions>
					<VisualTransition To="VisualStateBig" GeneratedDuration="0:0:0.5" />
				</VisualStateGroup.Transitions>-->
				<VisualState x:Name="VisualStatePhone">
					<VisualState.StateTriggers>
						<AdaptiveTrigger MinWindowWidth="0" />
					</VisualState.StateTriggers>
					<VisualState.Setters>
						<Setter Target="chattyListGroup.(Grid.RowSpan)" Value="1" />
						<Setter Target="lastUpdateTime.Visibility" Value="Collapsed" />
						<Setter Target="mainContent.(Grid.Row)" Value="1" />
						<Setter Target="mainContent.(Grid.RowSpan)" Value="1" />
						<Setter Target="mainContent.(Grid.Column)" Value="0" />
						<Setter Target="mainContent.Margin" Value="0,4,0,0" />
						<Setter Target="mainContent.BorderThickness" Value="0,2,0,0" />
						<Setter Target="columnLeft.Width" Value="*" />
						<Setter Target="columnRight.Width" Value="Auto" />
					</VisualState.Setters>
				</VisualState>
				<VisualState x:Name="VisualStateMid">
					<VisualState.StateTriggers>
						<AdaptiveTrigger MinWindowWidth="700" />
					</VisualState.StateTriggers>
					<VisualState.Setters>
						<Setter Target="columnLeft.Width" Value="320" />
					</VisualState.Setters>
				</VisualState>
				<VisualState x:Name="VisualStateBig">
					<VisualState.StateTriggers>
						<AdaptiveTrigger MinWindowWidth="1000" />
					</VisualState.StateTriggers>
					<!--<VisualState.Storyboard>
						<Storyboard>
							<DoubleAnimation Storyboard.TargetName="columnLeft" Storyboard.TargetProperty="Width" To="400" />
						</Storyboard>
					</VisualState.Storyboard>-->
					<VisualState.Setters>
						<Setter Target="columnLeft.Width" Value="400" />
					</VisualState.Setters>
				</VisualState>
			</VisualStateGroup>
		</VisualStateManager.VisualStateGroups>

		<Grid.RowDefinitions>
			<RowDefinition Height="2*" />
			<RowDefinition Height="3*" />
		</Grid.RowDefinitions>

		<Grid.ColumnDefinitions>
			<ColumnDefinition x:Name="columnLeft" Width="1*" />
			<ColumnDefinition x:Name="columnRight" Width="3*" />
		</Grid.ColumnDefinitions>

		<!--  #region Chatty List  -->
		<Grid x:Name="chattyListGroup"
		      Grid.Row="0"
		      Grid.RowSpan="2"
		      Grid.Column="0">

			<Grid.RowDefinitions>
				<RowDefinition Height="Auto" />
				<RowDefinition Height="Auto" />
				<RowDefinition Height="Auto" />
				<RowDefinition Height="*" />
				<RowDefinition Height="Auto" />
			</Grid.RowDefinitions>

			<Grid x:Name="chattyCommandBarGroup" Grid.Row="0">
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="*" />
					<ColumnDefinition Width="Auto" />
				</Grid.ColumnDefinitions>
				<StackPanel Grid.Column="0"
				            VerticalAlignment="Center"
				            Orientation="Horizontal">
					<ToggleButton x:Name="newRootPostButton"
					              Click="NewRootPostButtonClicked"
					              Content=""
					              Style="{StaticResource InlineToggleButton}"
					              ToolTipService.ToolTip="New Root Post" />
					<Button Content=""
					        Style="{StaticResource InlineButton}"
					        ToolTipService.ToolTip="Filter and Sort">
						<Button.Flyout>
							<Flyout>
								<Grid>
									<Grid.RowDefinitions>
										<RowDefinition />
										<RowDefinition />
									</Grid.RowDefinitions>
									<Grid.ColumnDefinitions>
										<ColumnDefinition />
										<ColumnDefinition />
									</Grid.ColumnDefinitions>
									<TextBlock Grid.Row="0"
									           Grid.Column="0"
									           HorizontalAlignment="Right"
									           VerticalAlignment="Center">
										Filter By
									</TextBlock>
									<ComboBox x:Name="filterCombo"
									          Grid.Row="0"
									          Grid.Column="1"
									          Margin="6,0,6,0"
									          SelectedIndex="{x:Bind Path=Settings.FilterIndex, Mode=TwoWay}"
									          SelectionChanged="FilterChanged">
										<ComboBox.Items>
											<ComboBoxItem Tag="all">All</ComboBoxItem>
											<ComboBoxItem Tag="collapsed">Collapsed</ComboBoxItem>
											<ComboBoxItem Tag="new">New</ComboBoxItem>
											<ComboBoxItem Tag="pinned">Pinned</ComboBoxItem>
											<ComboBoxItem Tag="participated">Participated</ComboBoxItem>
											<ComboBoxItem Tag="has replies">Has replies</ComboBoxItem>
											<ComboBoxItem IsEnabled="False">
												<Rectangle Height="1" Fill="Gray" />
											</ComboBoxItem>
											<ComboBoxItem Tag="search">Search</ComboBoxItem>
										</ComboBox.Items>
									</ComboBox>

									<TextBlock Grid.Row="1"
									           Grid.Column="0"
									           HorizontalAlignment="Right"
									           VerticalAlignment="Center"
									           Text="Ordered By" />
									<ComboBox x:Name="orderCombo"
									          Grid.Row="1"
									          Grid.Column="1"
									          Margin="6,6,0,0"
									          SelectedIndex="{x:Bind Path=Settings.OrderIndex, Mode=TwoWay}"
									          SelectionChanged="SortChanged">
										<ComboBox.Items>
											<ComboBoxItem Tag="latestreply">Latest</ComboBoxItem>
											<ComboBoxItem Tag="mostreplies">Reply count</ComboBoxItem>
											<ComboBoxItem Tag="hasnewreplies">New replies</ComboBoxItem>
											<ComboBoxItem Tag="participated">Participated</ComboBoxItem>
											<!--<ComboBoxItem Tag="lol">Lols</ComboBoxItem>
							<ComboBoxItem Tag="inf">Infs</ComboBoxItem>-->
										</ComboBox.Items>
									</ComboBox>
								</Grid>
							</Flyout>
						</Button.Flyout>
					</Button>
				</StackPanel>
				<StackPanel x:Name="chattyAppBar"
				            Grid.Column="1"
				            HorizontalAlignment="Stretch"
				            FlowDirection="RightToLeft"
				            Orientation="Horizontal">
					<Button x:Name="sortThreadsButton"
					        Click="ReSortClicked"
					        Content=""
					        IsEnabled="{x:Bind Path=ChattyManager.UnsortedChattyPosts, Mode=OneWay}"
					        Style="{StaticResource InlineButton}"
					        ToolTipService.ToolTip="Sort Threads" />
					<Button Click="MarkAllRead"
					        Content=""
					        Style="{StaticResource InlineButton}"
					        ToolTipService.ToolTip="Mark All Read" />
				</StackPanel>
			</Grid>
			<TextBox x:Name="searchTextBox"
			         Grid.Row="1"
			         Margin="6"
			         PlaceholderText="search"
			         TextChanged="SearchTextChanged"
			         Visibility="{x:Bind ShowSearch, Mode=OneWay, Converter={StaticResource BoolToVisConverter}}" />
			<ProgressBar x:Name="fullRefreshProgress"
			             Grid.Row="2"
			             HorizontalAlignment="Stretch"
			             VerticalAlignment="Top"
			             IsIndeterminate="True"
			             Visibility="{x:Bind Path=ChattyManager.IsFullUpdateHappening, Converter={StaticResource BoolToVisConverter}, Mode=OneWay}" />
			<ListView x:Name="chattyCommentList"
			          Grid.Row="3"
			          Margin="6,0,0,0"
			          ItemContainerStyle="{StaticResource FillWidthListViewItemStyle}"
			          ItemsSource="{x:Bind Path=ChattyManager.Chatty}"
			          SelectedValue="{Binding Path=SelectedThread,
			                                  Mode=TwoWay}"
			          SelectionChanged="ChattyListSelectionChanged"
			          VirtualizingStackPanel.VirtualizationMode="Recycling"
			          Visibility="{x:Bind Path=ChattyManager.IsFullUpdateHappening, Converter={StaticResource NotBoolToVisConverter}, Mode=OneWay}">
				<ListView.ItemTemplate>
					<DataTemplate x:DataType="model:CommentThread">
						<Grid RightTapped="ThreadListRightTapped">
							<FlyoutBase.AttachedFlyout>
								<MenuFlyout>
									<MenuFlyoutItem Click="PinClicked"
									                Text="Pin"
									                Visibility="{x:Bind Path=IsPinned, Converter={StaticResource NotBoolToVisConverter}, Mode=OneWay}" />
									<MenuFlyoutItem Click="PinClicked"
									                Text="Unpin"
									                Visibility="{x:Bind Path=IsPinned, Converter={StaticResource BoolToVisConverter}, Mode=OneWay}" />
									<MenuFlyoutItem Click="CollapseClicked"
									                Text="Collapse"
									                Visibility="{x:Bind Path=IsCollapsed, Converter={StaticResource NotBoolToVisConverter}, Mode=OneWay}" />
									<MenuFlyoutItem Click="CollapseClicked"
									                Text="Uncollapse"
									                Visibility="{x:Bind Path=IsCollapsed, Converter={StaticResource BoolToVisConverter}, Mode=OneWay}" />
								</MenuFlyout>
							</FlyoutBase.AttachedFlyout>
							<Grid Margin="0,2,0,0">
								<Grid.RowDefinitions>
									<RowDefinition Height="Auto" />
									<RowDefinition Height="*" />
								</Grid.RowDefinitions>
								<Grid Grid.Row="0" Margin="0,0,4,0">
									<Grid.ColumnDefinitions>
										<ColumnDefinition Width="Auto" />
										<ColumnDefinition Width="*" />
									</Grid.ColumnDefinitions>
									<StackPanel HorizontalAlignment="Left" Orientation="Horizontal">
										<TextBlock Foreground="{x:Bind Path=AuthorType, Converter={StaticResource AuthorTypeToColorConverter}}" Text="{x:Bind Path=Author}" />
									</StackPanel>
									<StackPanel Grid.Column="1"
									            HorizontalAlignment="Right"
									            Orientation="Horizontal">
										<TextBlock Foreground="#999999" Text="{x:Bind Path=Date, Converter={StaticResource RelativeDateTimeConverter}, Mode=OneWay}" />
									</StackPanel>
								</Grid>

								<Grid Grid.Row="1">
									<Grid.ColumnDefinitions>
										<ColumnDefinition Width="40" />
										<ColumnDefinition Width="*" />
									</Grid.ColumnDefinitions>
									<!--  Reply Count, etc  -->
									<Border Grid.Column="0"
									        Margin="0,4,0,0"
									        Background="{x:Bind Path=Category, Converter={StaticResource CategoryConverter}, Mode=OneWay}">
										<Grid>
											<TextBlock HorizontalAlignment="Center"
											           VerticalAlignment="Center"
											           FontSize="20"
											           FontWeight="Bold"
											           Foreground="#000000"
											           Text="{x:Bind Path=ReplyCount, Mode=OneWay}" />
										</Grid>
									</Border>
									<Grid Grid.Column="1">
										<Grid.RowDefinitions>
											<RowDefinition Height="*" />
											<RowDefinition Height="Auto" />
										</Grid.RowDefinitions>
										<Grid Grid.Row="0" Margin="6,2,2,2">
											<Grid>
												<Grid.ColumnDefinitions>
													<ColumnDefinition Width="*" />
													<ColumnDefinition Width="Auto" />
												</Grid.ColumnDefinitions>

												<TextBlock Grid.Column="0"
												           Height="{x:Bind Path=IsCollapsed, Converter={StaticResource PreviewTextSizeConverter}, Mode=OneWay}"
												           Foreground="{x:Bind Path=HasNewReplies, Converter={StaticResource NewReplyConverter}, Mode=OneWay}"
												           Text="{x:Bind Path=Preview}"
												           TextTrimming="CharacterEllipsis"
												           TextWrapping="Wrap" />
												<StackPanel Grid.Column="1"
												            Margin="6,6,0,0"
												            HorizontalAlignment="Center"
												            Orientation="Vertical">
													<TextBlock Margin="0,0,0,6"
													           FontFamily="Segoe MDL2 Assets"
													           Foreground="{ThemeResource ThemeHighlight}"
													           Text=""
													           ToolTipService.ToolTip="You Participated"
													           Visibility="{x:Bind Path=UserParticipated, Converter={StaticResource BoolToVisConverter}, Mode=OneWay}" />
													<TextBlock Margin="0,0,0,6"
													           FontFamily="Segoe MDL2 Assets"
													           Opacity=".05"
													           Text=""
													           ToolTipService.ToolTip="You Participated"
													           Visibility="{x:Bind Path=UserParticipated, Converter={StaticResource NotBoolToVisConverter}, Mode=OneWay}" />
													<TextBlock Margin="0,0,0,6"
													           FontFamily="Segoe MDL2 Assets"
													           Foreground="{ThemeResource ThemeHighlight}"
													           Text=""
													           ToolTipService.ToolTip="Has New Replies To You"
													           Visibility="{x:Bind HasNewRepliesToUser, Converter={StaticResource BoolToVisConverter}, Mode=OneWay}" />
													<TextBlock Margin="0,0,0,6"
													           FontFamily="Segoe MDL2 Assets"
													           Opacity=".05"
													           Text=""
													           ToolTipService.ToolTip="Has New Replies To You"
													           Visibility="{x:Bind HasNewRepliesToUser, Converter={StaticResource NotBoolToVisConverter}, Mode=OneWay}" />
													<Grid Visibility="{x:Bind IsPinned, Converter={StaticResource BoolToVisConverter}, Mode=OneWay}">
														<TextBlock FontFamily="Segoe MDL2 Assets"
														           Foreground="{ThemeResource ThemeHighlight}"
														           Text=""
														           ToolTipService.ToolTip="Pinned" />
														<TextBlock FontFamily="Segoe MDL2 Assets"
														           Foreground="{ThemeResource ThemeHighlight}"
														           Text=""
														           ToolTipService.ToolTip="Pinned" />
													</Grid>
													<TextBlock FontFamily="Segoe MDL2 Assets"
													           Opacity=".05"
													           Text=""
													           ToolTipService.ToolTip="Pinned"
													           Visibility="{x:Bind IsPinned, Converter={StaticResource NotBoolToVisConverter}, Mode=OneWay}" />
												</StackPanel>
											</Grid>
										</Grid>
										<StackPanel Grid.Row="1"
										            Margin="2,0,0,0"
										            VerticalAlignment="Bottom"
										            Orientation="Horizontal"
										            Visibility="{x:Bind Mode=OneWay, Path=IsCollapsed, Converter={StaticResource NotBoolToVisConverter}}">
											<Rectangle Width="{x:Bind Mode=OneWay, Path=LolCount, Converter={StaticResource LolIndicatorConverter}}"
											           Height="{x:Bind Mode=OneWay, Path=LolCount, Converter={StaticResource LolIndicatorConverter}}"
											           MinWidth="5"
											           MinHeight="5"
											           MaxWidth="12"
											           MaxHeight="12"
											           Margin="1"
											           VerticalAlignment="Bottom"
											           Fill="#FF8800"
											           Visibility="{x:Bind Mode=OneWay, Path=LolCount, Converter={StaticResource GreaterThanZeroVisibilityConverter}}" />
											<Rectangle Width="{x:Bind Mode=OneWay, Path=InfCount, Converter={StaticResource LolIndicatorConverter}}"
											           Height="{x:Bind Mode=OneWay, Path=InfCount, Converter={StaticResource LolIndicatorConverter}}"
											           MinWidth="5"
											           MinHeight="5"
											           MaxWidth="12"
											           MaxHeight="12"
											           Margin="1"
											           VerticalAlignment="Bottom"
											           Fill="#0099CC"
											           Visibility="{x:Bind Mode=OneWay, Path=InfCount, Converter={StaticResource GreaterThanZeroVisibilityConverter}}" />
											<Rectangle Width="{x:Bind Mode=OneWay, Path=UnfCount, Converter={StaticResource LolIndicatorConverter}}"
											           Height="{x:Bind Mode=OneWay, Path=UnfCount, Converter={StaticResource LolIndicatorConverter}}"
											           MinWidth="5"
											           MinHeight="5"
											           MaxWidth="12"
											           MaxHeight="12"
											           Margin="1"
											           VerticalAlignment="Bottom"
											           Fill="#FF0000"
											           Visibility="{x:Bind Mode=OneWay, Path=UnfCount, Converter={StaticResource GreaterThanZeroVisibilityConverter}}" />
											<Rectangle Width="{x:Bind Mode=OneWay, Path=TagCount, Converter={StaticResource LolIndicatorConverter}}"
											           Height="{x:Bind Mode=OneWay, Path=TagCount, Converter={StaticResource LolIndicatorConverter}}"
											           MinWidth="5"
											           MinHeight="5"
											           MaxWidth="12"
											           MaxHeight="12"
											           Margin="1"
											           VerticalAlignment="Bottom"
											           Fill="#77BB22"
											           Visibility="{x:Bind Mode=OneWay, Path=TagCount, Converter={StaticResource GreaterThanZeroVisibilityConverter}}" />
											<Rectangle Width="{x:Bind Mode=OneWay, Path=WtfCount, Converter={StaticResource LolIndicatorConverter}}"
											           Height="{x:Bind Mode=OneWay, Path=WtfCount, Converter={StaticResource LolIndicatorConverter}}"
											           MinWidth="5"
											           MinHeight="5"
											           MaxWidth="12"
											           MaxHeight="12"
											           Margin="1"
											           VerticalAlignment="Bottom"
											           Fill="#C000C0"
											           Visibility="{x:Bind Mode=OneWay, Path=WtfCount, Converter={StaticResource GreaterThanZeroVisibilityConverter}}" />
											<Rectangle Width="{x:Bind Mode=OneWay, Path=UghCount, Converter={StaticResource LolIndicatorConverter}}"
											           Height="{x:Bind Mode=OneWay, Path=UghCount, Converter={StaticResource LolIndicatorConverter}}"
											           MinWidth="5"
											           MinHeight="5"
											           MaxWidth="12"
											           MaxHeight="12"
											           Margin="1"
											           VerticalAlignment="Bottom"
											           Fill="#00BB00"
											           Visibility="{x:Bind Mode=OneWay, Path=UghCount, Converter={StaticResource GreaterThanZeroVisibilityConverter}}" />
										</StackPanel>

									</Grid>
								</Grid>
							</Grid>
							<Grid Background="Black"
							      Opacity=".4"
							      Visibility="{x:Bind Mode=OneWay, Path=IsCollapsed, Converter={StaticResource BoolToVisConverter}}" />
						</Grid>
					</DataTemplate>
				</ListView.ItemTemplate>
			</ListView>
			<TextBlock x:Name="lastUpdateTime"
			           Grid.Row="4"
			           Margin="6,6,0,6"
			           Style="{StaticResource BaselineTextStyle}"
			           Text="{x:Bind Path=ChattyManager.UpdateStatus, Mode=OneWay}" />
		</Grid>
		<!--  #endregion  -->

		<Grid x:Name="mainContent"
		      Grid.Row="0"
		      Grid.RowSpan="2"
		      Grid.Column="1"
		      Margin="4,0,0,0"
		      BorderBrush="LightGray"
		      BorderThickness="2,0,0,0">
			<local:PostContol x:Name="newRootPostControl"
			                  Margin="6,0,6,0"
			                  Visibility="{Binding ElementName=newRootPostButton,
			                                       Path=IsChecked,
			                                       Converter={StaticResource BoolToVisConverter},
			                                       Mode=TwoWay}" />

			<!--  #region Thread View  -->

			<ListView x:Name="commentList"
			          Margin="6,0,6,0"
			          HorizontalAlignment="Stretch"
			          IsRightTapEnabled="False"
			          IsSwipeEnabled="False"
			          ItemContainerStyle="{StaticResource ThreadCommentListViewItemStyle}"
			          SelectionChanged="SelectedItemChanged"
			          SelectionMode="Single"
			          Visibility="{Binding ElementName=newRootPostButton,
			                               Path=IsChecked,
			                               Converter={StaticResource NotBoolToVisConverter}}">
				<ListView.ItemTemplate>
					<DataTemplate x:DataType="model:Comment">
						<Grid x:Name="container">
							<Grid x:Name="preview">
								<Grid.ColumnDefinitions>
									<ColumnDefinition Width="Auto" />
									<ColumnDefinition Width="*" />
								</Grid.ColumnDefinitions>
								<Rectangle Grid.Column="0" Width="{x:Bind Path=Depth, Converter={StaticResource IndentConverter}}" />
								<Grid x:Name="sizeGrid"
								      Grid.Column="1"
								      VerticalAlignment="Center">
									<Grid.ColumnDefinitions>
										<ColumnDefinition Width="*" />
										<ColumnDefinition Width="Auto" />
										<ColumnDefinition Width="26" />
									</Grid.ColumnDefinitions>
									<TextBlock x:Name="content"
									           Grid.Column="0"
									           Margin="2,0,0,0"
									           HorizontalAlignment="Left"
									           VerticalAlignment="Center"
									           Foreground="{x:Bind Path=IsNew, Converter={StaticResource NewReplyConverter}, Mode=OneWay}"
									           Text="{x:Bind Path=Preview}"
									           TextWrapping="NoWrap" />
									<TextBlock x:Name="previewAuthor"
									           Grid.Column="1"
									           Margin="6,0,0,0"
									           HorizontalAlignment="Right"
									           VerticalAlignment="Center"
									           Foreground="{x:Bind Path=AuthorType, Converter={StaticResource AuthorTypeToColorConverter}}"
									           Text="{x:Bind Path=Author}" />
									<StackPanel Grid.Column="2"
									            VerticalAlignment="Center"
									            Orientation="Horizontal">
										<Rectangle Width="3"
										           Height="10"
										           Margin="1"
										           Fill="#FF8800"
										           Visibility="{x:Bind Path=LolCount, Converter={StaticResource GreaterThanZeroVisibilityConverter}, Mode=OneWay}" />
										<Rectangle Width="3"
										           Height="10"
										           Margin="1"
										           Fill="#0099CC"
										           Visibility="{x:Bind Path=InfCount, Converter={StaticResource GreaterThanZeroVisibilityConverter}, Mode=OneWay}" />
										<Rectangle Width="3"
										           Height="10"
										           Margin="1"
										           Fill="#FF0000"
										           Visibility="{x:Bind Path=UnfCount, Converter={StaticResource GreaterThanZeroVisibilityConverter}, Mode=OneWay}" />
										<Rectangle Width="3"
										           Height="10"
										           Margin="1"
										           Fill="#77BB22"
										           Visibility="{x:Bind Path=TagCount, Converter={StaticResource GreaterThanZeroVisibilityConverter}, Mode=OneWay}" />
										<Rectangle Width="3"
										           Height="10"
										           Margin="1"
										           Fill="#C000C0"
										           Visibility="{x:Bind Path=WtfCount, Converter={StaticResource GreaterThanZeroVisibilityConverter}, Mode=OneWay}" />
										<Rectangle Width="3"
										           Height="10"
										           Margin="1"
										           Fill="#00BB00"
										           Visibility="{x:Bind Path=UghCount, Converter={StaticResource GreaterThanZeroVisibilityConverter}, Mode=OneWay}" />
									</StackPanel>
								</Grid>
							</Grid>
							<Grid x:Name="commentSection"
							      Visibility="Collapsed"
							      x:DeferLoadStrategy="Lazy">
								<Grid.RowDefinitions>
									<RowDefinition Height="Auto" />
									<RowDefinition Height="5" />
									<RowDefinition Height="*" />
									<RowDefinition Height="Auto" />
									<RowDefinition Height="Auto" />
								</Grid.RowDefinitions>
								<TextBlock x:Name="author"
								           Grid.Row="0"
								           HorizontalAlignment="Left"
								           FontSize="20"
								           Foreground="{x:Bind Path=AuthorType, Converter={StaticResource AuthorTypeToColorConverter}}"
								           Text="{x:Bind Path=Author}" />

								<TextBlock x:Name="date"
								           Grid.Row="0"
								           HorizontalAlignment="Right"
								           FontSize="20"
								           Foreground="#888888"
								           Text="{x:Bind Path=DateText}" />
								<Grid Grid.Row="1">
									<Grid.ColumnDefinitions>
										<ColumnDefinition Width="Auto" />
										<ColumnDefinition Width="*" />
									</Grid.ColumnDefinitions>
									<Rectangle Grid.Column="0" Width="{x:Bind Path=Depth, Converter={StaticResource IndentConverter}}" />
									<Rectangle Grid.Column="1" Fill="{x:Bind Path=Category, Converter={StaticResource CategoryConverter}, Mode=OneWay}" />
								</Grid>
								<WebView x:Name="bodyWebView"
								         Grid.Row="2"
								         Width="Auto"
								         Height="Auto"
								         HorizontalAlignment="Stretch"
								         FlyoutBase.AttachedFlyout="{StaticResource WebFlyout}" />
								<Grid Grid.Row="3" Background="#212121">
									<Grid.ColumnDefinitions>
										<ColumnDefinition />
										<ColumnDefinition />
									</Grid.ColumnDefinitions>
									<StackPanel Grid.Column="0"
									            HorizontalAlignment="Left"
									            VerticalAlignment="Bottom"
									            Orientation="Horizontal">
										<StackPanel Orientation="Horizontal" Visibility="{x:Bind Path=LolCount, Converter={StaticResource GreaterThanZeroVisibilityConverter}, Mode=OneWay}">
											<TextBlock Margin="0,0,4,0"
											           Foreground="#FF8800"
											           Text="{x:Bind Path=LolCount, Mode=OneWay}" />
											<TextBlock Margin="0,0,6,0" Foreground="#FF8800">lols</TextBlock>
										</StackPanel>
										<StackPanel Orientation="Horizontal" Visibility="{x:Bind Path=InfCount, Converter={StaticResource GreaterThanZeroVisibilityConverter}, Mode=OneWay}">
											<TextBlock Margin="0,0,4,0"
											           Foreground="#0099CC"
											           Text="{x:Bind Path=InfCount, Mode=OneWay}" />
											<TextBlock Margin="0,0,6,0" Foreground="#0099CC">infs</TextBlock>
										</StackPanel>
										<StackPanel Orientation="Horizontal" Visibility="{x:Bind Path=UnfCount, Converter={StaticResource GreaterThanZeroVisibilityConverter}, Mode=OneWay}">
											<TextBlock Margin="0,0,4,0"
											           Foreground="#FF0000"
											           Text="{x:Bind Path=UnfCount, Mode=OneWay}" />
											<TextBlock Margin="0,0,6,0" Foreground="#FF0000">unfs</TextBlock>
										</StackPanel>
										<StackPanel Orientation="Horizontal" Visibility="{x:Bind Path=TagCount, Converter={StaticResource GreaterThanZeroVisibilityConverter}, Mode=OneWay}">
											<TextBlock Margin="0,0,4,0"
											           Foreground="#77BB22"
											           Text="{x:Bind Path=TagCount, Mode=OneWay}" />
											<TextBlock Margin="0,0,6,0" Foreground="#77BB22">tags</TextBlock>
										</StackPanel>
										<StackPanel Orientation="Horizontal" Visibility="{x:Bind Path=WtfCount, Converter={StaticResource GreaterThanZeroVisibilityConverter}, Mode=OneWay}">
											<TextBlock Margin="0,0,4,0"
											           Foreground="#C000C0"
											           Text="{x:Bind Path=WtfCount, Mode=OneWay}" />
											<TextBlock Margin="0,0,6,0" Foreground="#C000C0">wtfs</TextBlock>
										</StackPanel>
										<StackPanel Orientation="Horizontal" Visibility="{x:Bind Path=UghCount, Converter={StaticResource GreaterThanZeroVisibilityConverter}, Mode=OneWay}">
											<TextBlock Margin="0,0,4,0"
											           Foreground="#00BB00"
											           Text="{x:Bind Path=UghCount, Mode=OneWay}" />
											<TextBlock Margin="0,0,6,0" Foreground="#00BB00">ughs</TextBlock>
										</StackPanel>
									</StackPanel>
									<StackPanel Grid.Column="1"
									            HorizontalAlignment="Right"
									            FlowDirection="RightToLeft"
									            Orientation="Horizontal">
										<ToggleButton x:Name="showReply"
										              Click="ShowReplyClicked"
										              Content=""
										              IsChecked="False"
										              Style="{StaticResource InlineToggleButton}"
										              ToolTipService.ToolTip="Reply" />
										<Button x:Name="tagButton"
										        Content=""
										        Style="{StaticResource InlineButton}"
										        ToolTipService.ToolTip="Lol Tag">
											<Button.Flyout>
												<MenuFlyout>
													<MenuFlyoutItem Click="lolPostClicked">lol</MenuFlyoutItem>
													<MenuFlyoutItem Click="lolPostClicked">inf</MenuFlyoutItem>
													<MenuFlyoutItem Click="lolPostClicked">unf</MenuFlyoutItem>
													<MenuFlyoutItem Click="lolPostClicked">tag</MenuFlyoutItem>
												</MenuFlyout>
											</Button.Flyout>
										</Button>
										<Button Click="CopyPostLinkClicked"
										        Content=""
										        Style="{StaticResource InlineButton}"
										        ToolTipService.ToolTip="Copy Link To Post" />
									</StackPanel>
								</Grid>
								<local:PostContol x:Name="replyArea"
								                  Grid.Row="4"
								                  DataContext="{Binding}"
								                  Visibility="{Binding ElementName=showReply,
								                                       Path=IsChecked,
								                                       Converter={StaticResource BoolToVisConverter},
								                                       Mode=TwoWay}"
								                  x:DeferLoadStrategy="Lazy" />
							</Grid>
						</Grid>
					</DataTemplate>
				</ListView.ItemTemplate>
			</ListView>
			<!--  #endregion  -->
		</Grid>

	</Grid>
</views:ShellView>
