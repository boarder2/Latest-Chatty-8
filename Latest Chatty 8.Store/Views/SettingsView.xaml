<views:ShellView x:Class="Latest_Chatty_8.Views.SettingsView"
                 xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                 xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                 xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
                 xmlns:local="using:Latest_Chatty_8"
                 xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
                 xmlns:settings="using:Latest_Chatty_8.Settings"
                 xmlns:views="using:Latest_Chatty_8.Views"
                 NavigationCacheMode="Enabled"
                 mc:Ignorable="d">
	<Page.Resources>
		<ResourceDictionary>
			<ResourceDictionary.MergedDictionaries>
				<ResourceDictionary Source="ms-appx:///Styles/Local.xaml" />
			</ResourceDictionary.MergedDictionaries>
		</ResourceDictionary>
	</Page.Resources>
	<Grid Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">
		<ScrollViewer>
			<StackPanel Margin="40, 33, 40, 0">
				<Rectangle Height="1">
					<Rectangle.Fill>
						<SolidColorBrush Color="{x:Bind Path=Settings.Theme.AccentBackgroundColor, Mode=OneWay}" />
					</Rectangle.Fill>
				</Rectangle>
				<TextBlock Margin="0,0,0,6">
					<TextBlock.Foreground>
						<SolidColorBrush Color="{x:Bind Path=Settings.Theme.AccentBackgroundColor, Mode=OneWay}" />
					</TextBlock.Foreground>
					LOGIN
				</TextBlock>
				<Grid x:Name="loginGrid">
					<StackPanel>
						<TextBlock>Username</TextBlock>
						<TextBox x:Name="userName"
						         Text="{x:Bind Path=AuthenticationManager.UserName, Mode=OneTime}"
						         TextChanged="UserNameChanged" />
						<TextBlock>Password</TextBlock>
						<PasswordBox x:Name="password" PasswordChanged="PasswordChanged" />
						<Grid x:Name="userValidation">
							<Button HorizontalAlignment="Right"
							        Click="LogInClicked"
							        Visibility="{x:Bind Path=AuthenticationManager.LoggedIn, Converter={StaticResource NotBoolToVisConverter}}">
								Log In
							</Button>
							<Button HorizontalAlignment="Right"
							        Click="LogOutClicked"
							        Visibility="{x:Bind Path=AuthenticationManager.LoggedIn, Converter={StaticResource BoolToVisConverter}}">
								Log Out
							</Button>
						</Grid>
						<TextBlock Margin="0,0,0,12"
						           FontSize="10"
						           Foreground="{ThemeResource ButtonDisabledForegroundThemeBrush}">
							Login requires a shacknews.com account.
						</TextBlock>
					</StackPanel>
				</Grid>
				<Rectangle Height="1" Margin="0,12,0,0">
					<Rectangle.Fill>
						<SolidColorBrush Color="{x:Bind Path=Settings.Theme.AccentBackgroundColor, Mode=OneWay}" />
					</Rectangle.Fill>
				</Rectangle>
				<TextBlock Margin="0,0,0,6">
					<TextBlock.Foreground>
						<SolidColorBrush Color="{x:Bind Path=Settings.Theme.AccentBackgroundColor, Mode=OneWay}" />
					</TextBlock.Foreground>
					POWER SAVING
				</TextBlock>
				<StackPanel Margin="6,0,0,0" Orientation="Vertical">
					<Slider Header="Refresh rate"
					        LargeChange="20"
					        Maximum="120"
					        Minimum="0"
					        SmallChange="5"
					        StepFrequency="5"
					        Value="{x:Bind Path=Settings.RefreshRate, Converter={StaticResource RefreshRateValueConverter}, Mode=TwoWay}" />
					<TextBlock x:Name="refreshTimeHumanReadable"
					           Margin="12,-12,0,0"
					           VerticalAlignment="Center"
					           Text="{x:Bind Path=Settings.RefreshRate, Converter={StaticResource RefreshRateConverter}, Mode=OneWay}" />
				</StackPanel>
				<TextBlock Margin="0,6,0,0"
				           FontSize="12"
				           Foreground="{ThemeResource ButtonDisabledForegroundThemeBrush}"
				           TextWrapping="Wrap">
					The longer between refreshes the less battery will be used
				</TextBlock>

				<Rectangle Height="1" Margin="0,12,0,0">
					<Rectangle.Fill>
						<SolidColorBrush Color="{x:Bind Path=Settings.Theme.AccentBackgroundColor, Mode=OneWay}" />
					</Rectangle.Fill>
				</Rectangle>
				<TextBlock Margin="0,0,0,6">
					<TextBlock.Foreground>
						<SolidColorBrush Color="{x:Bind Path=Settings.Theme.AccentBackgroundColor, Mode=OneWay}" />
					</TextBlock.Foreground>
					GENERAL
				</TextBlock>

				<ToggleSwitch Margin="0,6,0,0"
				              Header="Load images inline in background"
				              IsOn="{x:Bind Path=Settings.ShowInlineImages, Mode=TwoWay}" />

				<ToggleSwitch Margin="0,6,0,0"
				              Header="Mark all read on sort"
				              IsOn="{x:Bind Path=Settings.MarkReadOnSort, Mode=TwoWay}" />

				<StackPanel Margin="0,6,0,6" Orientation="Horizontal">
					<TextBlock Margin="0,0,6,0" VerticalAlignment="Center">Color Theme</TextBlock>
					<ComboBox x:Name="themeCombo"
					          MinWidth="150"
					          ItemsSource="{x:Bind Path=Settings.AvailableThemes, Mode=OneTime}"
					          SelectedValue="{x:Bind Path=Settings.ThemeName, Mode=OneWay}"
					          SelectedValuePath="Name"
					          SelectionChanged="ThemeBackgroundColorChanged">
						<ComboBox.ItemTemplate>
							<DataTemplate x:DataType="settings:ThemeColorOption">
								<StackPanel Orientation="Horizontal">
									<Rectangle Width="20" Height="20">
										<Rectangle.Fill>
											<SolidColorBrush Color="{x:Bind Path=AccentBackgroundColor}" />
										</Rectangle.Fill>
									</Rectangle>
									<TextBlock Margin="6,0,0,0" Text="{x:Bind Path=Name}" />
								</StackPanel>
							</DataTemplate>
						</ComboBox.ItemTemplate>
					</ComboBox>
					<TextBlock Margin="6,0,0,0"
					           VerticalAlignment="Center"
					           FontSize="12"
					           Text="(Requires restart)" />
				</StackPanel>

				<Rectangle Height="1" Margin="0,12,0,0">
					<Rectangle.Fill>
						<SolidColorBrush Color="{x:Bind Path=Settings.Theme.AccentBackgroundColor, Mode=OneWay}" />
					</Rectangle.Fill>
				</Rectangle>
				<TextBlock Margin="0,0,0,6">
					<TextBlock.Foreground>
						<SolidColorBrush Color="{x:Bind Path=Settings.Theme.AccentBackgroundColor, Mode=OneWay}" />
					</TextBlock.Foreground>
					AUTO COLLAPSE (Requires restart)
				</TextBlock>

				<ToggleSwitch Header="Auto Collapse NWS" IsOn="{x:Bind Path=Settings.AutoCollapseNws, Mode=TwoWay}" />
				<ToggleSwitch Header="Auto Collapse Stupid" IsOn="{x:Bind Path=Settings.AutoCollapseStupid, Mode=TwoWay}" />
				<ToggleSwitch Header="Auto Collapse Off Topic" IsOn="{x:Bind Path=Settings.AutoCollapseOffTopic, Mode=TwoWay}" />
				<ToggleSwitch Header="Auto Collapse Political" IsOn="{x:Bind Path=Settings.AutoCollapsePolitical, Mode=TwoWay}" />
				<ToggleSwitch Header="Auto Collapse Informative" IsOn="{x:Bind Path=Settings.AutoCollapseInformative, Mode=TwoWay}" />
				<ToggleSwitch Header="Auto Collapse Interesting" IsOn="{x:Bind Path=Settings.AutoCollapseInteresting, Mode=TwoWay}" />
				<ToggleSwitch Header="Auto Collapse News" IsOn="{x:Bind Path=Settings.AutoCollapseNews, Mode=TwoWay}" />
			</StackPanel>
		</ScrollViewer>
	</Grid>
</views:ShellView>
