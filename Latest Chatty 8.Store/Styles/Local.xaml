<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:converters="using:Latest_Chatty_8.Shared.Converters"
                    xmlns:controls="using:Latest_Chatty_8.Controls"
                    xmlns:core="using:Latest_Chatty_8">
    
    <converters:NullToVisibilityConverter x:Key="NullToVisibilityConverter" />
	<converters:BooleanToVisibilityConverter x:Key="BoolToVisConverter"
	                                           FalseValue="Collapsed"
	                                           TrueValue="Visible" />
	<converters:BooleanToVisibilityConverter x:Key="NotBoolToVisConverter"
	                                           FalseValue="Visible"
	                                           TrueValue="Collapsed" />
	<converters:BooleanToNewColorConverter x:Key="NewReplyConverter"
	                                       FalseValue="#999999"
	                                       TrueValue="White" />
	<converters:PostCategoryConverter x:Key="CategoryConverter" x:Name="CategoryConverter" />
	<converters:MultiplicationConverter x:Key="IndentConverter" Multiplier="18.0" />
	<converters:MultiplicationConverter x:Key="PhoneIndentConverter" Multiplier="12.0" />
	<converters:MultiplicationConverter x:Key="LolIndicatorConverter" Multiplier="2" />
	<converters:StringIsNullOrEmptyVisibilityConverter x:Key="StringNullEmptyVisibilityConverter" />
	<converters:NotStringIsNullOrEmptyVisibilityConverter x:Key="NotStringNullEmptyVisibilityConverter" />
	<converters:RefreshRateConverter x:Key="RefreshRateConverter" />
	<converters:GreaterThanZeroVisibilityConverter x:Key="GreaterThanZeroVisibilityConverter" />
	<converters:AuthorTypeColorConverter x:Key="AuthorTypeToColorConverter" />

	<Style x:Key="NoSelectListViewItemStyle" TargetType="ListViewItem">
		<Setter Property="FontFamily" Value="{StaticResource ContentControlThemeFontFamily}" />
		<Setter Property="FontSize" Value="{StaticResource ControlContentThemeFontSize}" />
		<Setter Property="Background" Value="Transparent" />
		<Setter Property="TabNavigation" Value="Local" />
		<Setter Property="IsHoldingEnabled" Value="True" />
		<Setter Property="Margin" Value="0,0,18,2" />
		<Setter Property="HorizontalContentAlignment" Value="Left" />
		<Setter Property="VerticalContentAlignment" Value="Top" />
		<Setter Property="Template">
			<Setter.Value>
				<ControlTemplate TargetType="ListViewItem">
                    <ContentPresenter x:Name="contentPresenter"
											                  Margin="{TemplateBinding Padding}"
											                  HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
											                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
											                  Content="{TemplateBinding Content}"
											                  ContentTemplate="{TemplateBinding ContentTemplate}"
											                  ContentTransitions="{TemplateBinding ContentTransitions}" />
					<!--<Border x:Name="OuterContainer">
						<Grid x:Name="ReorderHintContent" Background="Transparent">
							<Border x:Name="ContentContainer">
								<Grid x:Name="InnerDragContent">
									<Border x:Name="ContentBorder"
									        Background="{TemplateBinding Background}"
									        BorderBrush="{TemplateBinding BorderBrush}"
									        BorderThickness="{TemplateBinding BorderThickness}">
										<Grid>
											<ContentPresenter x:Name="contentPresenter"
											                  Margin="{TemplateBinding Padding}"
											                  HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
											                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
											                  Content="{TemplateBinding Content}"
											                  ContentTemplate="{TemplateBinding ContentTemplate}"
											                  ContentTransitions="{TemplateBinding ContentTransitions}" />
											--><!--
												The 'Xg' text simulates the amount of space one line of text will occupy.
												In the DataPlaceholder state, the Content is not loaded yet so we
												approximate the size of the item using placeholder text.
											--><!--
											<TextBlock x:Name="PlaceholderTextBlock"
											           Margin="{TemplateBinding Padding}"
											           Foreground="{x:Null}"
											           IsHitTestVisible="False"
											           Opacity="0"
											           Text="Xg" />
											<Rectangle x:Name="PlaceholderRect"
											           Fill="{StaticResource ListViewItemPlaceholderBackgroundThemeBrush}"
											           IsHitTestVisible="False"
											           Visibility="Collapsed" />

										</Grid>
									</Border>
								</Grid>
							</Border>
						</Grid>
					</Border>-->
				</ControlTemplate>
			</Setter.Value>
		</Setter>
	</Style>

	

	<Style x:Key="ThreadCommentListViewItemStyle"
	       BasedOn="{StaticResource NoSelectListViewItemStyle}"
	       TargetType="ListViewItem">
		<Setter Property="HorizontalContentAlignment" Value="Stretch" />
        <Setter Property="VerticalContentAlignment" Value="Stretch" />
        <Setter Property="Padding" Value="0" />
        <Setter Property="Margin" Value="0" />
    </Style>
	
	<Style x:Key="PhoneThreadCommentListViewItemStyle"
	       BasedOn="{StaticResource CleanListViewItemStyle}"
	       TargetType="ListViewItem">
		<Setter Property="HorizontalContentAlignment" Value="Stretch" />
		<Setter Property="VerticalContentAlignment" Value="Stretch" />
		<Setter Property="Padding" Value="0" />
		<Setter Property="Margin" Value="0" />
	</Style>

	<DataTemplate x:Key="ChattyCommentThreadItemTemplate">
		<Grid>
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto" />
					<RowDefinition Height="*" />
				</Grid.RowDefinitions>
				<Grid Grid.Row="0" Margin="0,0,4,0">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="Auto" />
						<ColumnDefinition Width="*" />
					</Grid.ColumnDefinitions>
					<TextBlock HorizontalAlignment="Left"
					           Foreground="#ffba00"
					           Text="{Binding Author}" />
					<StackPanel Grid.Column="1"
					            HorizontalAlignment="Right"
					            Orientation="Horizontal">
						<TextBlock Foreground="#888888" Text="{Binding DateText}" />
					</StackPanel>
				</Grid>

				<Grid Grid.Row="1">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="40" />
						<ColumnDefinition Width="*" />
					</Grid.ColumnDefinitions>
					<!--  Reply Count, etc  -->
					<Border Grid.Column="0"
					        Margin="0,7,0,0"
					        Background="{Binding Category,
					                             Converter={StaticResource CategoryConverter}}">
						<Grid>
							<!--  Have I participated?  -->
							<Grid Height="15"
							      VerticalAlignment="Top"
							      Visibility="{Binding IsCollapsed,
							                           Converter={StaticResource NotBoolToVisConverter}}">
								<Rectangle Fill="Orange" Visibility="{Binding UserParticipated, Converter={StaticResource BoolToVisConverter}}" />
							</Grid>

							<!--  How many replies  -->
							<TextBlock HorizontalAlignment="Center"
							           VerticalAlignment="Center"
							           FontSize="20"
							           FontWeight="Bold"
							           Foreground="#000000"
							           Text="{Binding ReplyCount}" />
							<!--  Is it pinned?  -->
							<Grid Width="10"
							      Height="10"
							      HorizontalAlignment="Left"
							      VerticalAlignment="Bottom"
							      Visibility="{Binding IsCollapsed,
							                           Converter={StaticResource NotBoolToVisConverter}}">
								<Rectangle Fill="Orange" Visibility="{Binding IsPinned, Converter={StaticResource BoolToVisConverter}}" />
							</Grid>
							<!--  Are there replies to me?  -->
							<Grid Width="10"
							      Height="10"
							      HorizontalAlignment="Right"
							      VerticalAlignment="Bottom"
							      Visibility="{Binding IsCollapsed,
							                           Converter={StaticResource NotBoolToVisConverter}}">
								<Rectangle Fill="Orange" Visibility="{Binding HasNewRepliesToUser, Converter={StaticResource BoolToVisConverter}}" />
							</Grid>
						</Grid>
					</Border>
					<!--  Post Preview Message - Not Collapsed  -->
					<Grid Grid.Column="1">
						<Grid.RowDefinitions>
							<RowDefinition Height="*" />
							<RowDefinition Height="Auto" />
						</Grid.RowDefinitions>
						<Grid Grid.Row="0" Margin="6,2,2,2">
							<TextBlock Height="68"
							           Foreground="{Binding HasNewReplies,
							                                Converter={StaticResource NewReplyConverter}}"
							           Text="{Binding Preview}"
							           TextTrimming="CharacterEllipsis"
							           TextWrapping="Wrap"
							           Visibility="{Binding IsCollapsed,
							                                Converter={StaticResource NotBoolToVisConverter}}" />
							<!--  Post Preview Message - Collapsed  -->
							<TextBlock Height="20"
							           VerticalAlignment="Center"
							           Foreground="{Binding HasNewReplies,
							                                Converter={StaticResource NewReplyConverter}}"
							           Text="{Binding Preview}"
							           TextTrimming="CharacterEllipsis"
							           TextWrapping="Wrap"
							           Visibility="{Binding IsCollapsed,
							                                Converter={StaticResource BoolToVisConverter}}" />
						</Grid>
						<StackPanel Grid.Row="1"
						            Margin="2,0,0,0"
						            VerticalAlignment="Bottom"
						            Orientation="Horizontal"
						            Visibility="{Binding IsCollapsed,
						                                 Converter={StaticResource NotBoolToVisConverter}}">
							<Rectangle Width="{Binding LolCount,
							                           Converter={StaticResource LolIndicatorConverter}}"
							           Height="{Binding LolCount,
							                            Converter={StaticResource LolIndicatorConverter}}"
							           MinWidth="5"
							           MinHeight="5"
							           MaxWidth="12"
							           MaxHeight="12"
							           Margin="1"
							           VerticalAlignment="Bottom"
							           Fill="#FF8800"
							           Visibility="{Binding LolCount,
							                                Converter={StaticResource GreaterThanZeroVisibilityConverter}}" />
							<Rectangle Width="{Binding InfCount,
							                           Converter={StaticResource LolIndicatorConverter}}"
							           Height="{Binding InfCount,
							                            Converter={StaticResource LolIndicatorConverter}}"
							           MinWidth="5"
							           MinHeight="5"
							           MaxWidth="12"
							           MaxHeight="12"
							           Margin="1"
							           VerticalAlignment="Bottom"
							           Fill="#0099CC"
							           Visibility="{Binding InfCount,
							                                Converter={StaticResource GreaterThanZeroVisibilityConverter}}" />
							<Rectangle Width="{Binding UnfCount,
							                           Converter={StaticResource LolIndicatorConverter}}"
							           Height="{Binding UnfCount,
							                            Converter={StaticResource LolIndicatorConverter}}"
							           MinWidth="5"
							           MinHeight="5"
							           MaxWidth="12"
							           MaxHeight="12"
							           Margin="1"
							           VerticalAlignment="Bottom"
							           Fill="#FF0000"
							           Visibility="{Binding UnfCount,
							                                Converter={StaticResource GreaterThanZeroVisibilityConverter}}" />
							<Rectangle Width="{Binding TagCount,
							                           Converter={StaticResource LolIndicatorConverter}}"
							           Height="{Binding TagCount,
							                            Converter={StaticResource LolIndicatorConverter}}"
							           MinWidth="5"
							           MinHeight="5"
							           MaxWidth="12"
							           MaxHeight="12"
							           Margin="1"
							           VerticalAlignment="Bottom"
							           Fill="#77BB22"
							           Visibility="{Binding TagCount,
							                                Converter={StaticResource GreaterThanZeroVisibilityConverter}}" />
							<Rectangle Width="{Binding WtfCount,
							                           Converter={StaticResource LolIndicatorConverter}}"
							           Height="{Binding WtfCount,
							                            Converter={StaticResource LolIndicatorConverter}}"
							           MinWidth="5"
							           MinHeight="5"
							           MaxWidth="12"
							           MaxHeight="12"
							           Margin="1"
							           VerticalAlignment="Bottom"
							           Fill="#C000C0"
							           Visibility="{Binding WtfCount,
							                                Converter={StaticResource GreaterThanZeroVisibilityConverter}}" />
							<Rectangle Width="{Binding UghCount,
							                           Converter={StaticResource LolIndicatorConverter}}"
							           Height="{Binding UghCount,
							                            Converter={StaticResource LolIndicatorConverter}}"
							           MinWidth="5"
							           MinHeight="5"
							           MaxWidth="12"
							           MaxHeight="12"
							           Margin="1"
							           VerticalAlignment="Bottom"
							           Fill="#00BB00"
							           Visibility="{Binding UghCount,
							                                Converter={StaticResource GreaterThanZeroVisibilityConverter}}" />
						</StackPanel>
					</Grid>
				</Grid>
			</Grid>
			<Grid Background="Black"
			      Opacity=".4"
			      Visibility="{Binding IsCollapsed,
			                           Converter={StaticResource BoolToVisConverter}}" />
		</Grid>
	</DataTemplate>

	<!--<DataTemplate x:Key="PhoneChattyCommentThreadItemTemplate">
		<Grid>
			--><!--
				<Grid.Background>
				<LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
				<GradientStop Offset="0" Color="#FF303030" />
				<GradientStop Offset="1" Color="#FF101010" />
				</LinearGradientBrush>
				</Grid.Background>
			--><!--
			<Grid>
				<Grid.RowDefinitions>
					<RowDefinition Height="Auto" />
					<RowDefinition Height="*" />
				</Grid.RowDefinitions>
				<Grid Grid.Row="0" Margin="0,0,4,0">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="Auto" />
						<ColumnDefinition Width="*" />
					</Grid.ColumnDefinitions>
					<TextBlock HorizontalAlignment="Left"
					           Foreground="#ffba00"
					           Text="{Binding Author}" />
					<StackPanel Grid.Column="1"
					            HorizontalAlignment="Right"
					            Orientation="Horizontal">
						<TextBlock Foreground="#888888" Text="{Binding DateText}" />
					</StackPanel>
				</Grid>

				<Grid Grid.Row="1">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="40" />
						<ColumnDefinition Width="*" />
					</Grid.ColumnDefinitions>
					--><!--  Reply Count, etc  --><!--
					<Border Grid.Column="0"
					        Margin="0,7,0,0"
					        Background="{Binding Category,
					                             Converter={StaticResource CategoryConverter}}">
						<Grid>
							--><!--  Have I participated?  --><!--
							<Grid Height="15"
							      VerticalAlignment="Top"
							      Visibility="{Binding IsCollapsed,
							                           Converter={StaticResource NotBoolToVisConverter}}">
								<Rectangle Fill="Orange" Visibility="{Binding UserParticipated, Converter={StaticResource BoolToVisConverter}}" />
							</Grid>

							--><!--  How many replies  --><!--
							<TextBlock HorizontalAlignment="Center"
							           VerticalAlignment="Center"
							           FontSize="20"
							           FontWeight="Bold"
							           Foreground="#000000"
							           Text="{Binding ReplyCount}" />
							--><!--  Is it pinned?  --><!--
							<Grid Width="10"
							      Height="10"
							      HorizontalAlignment="Left"
							      VerticalAlignment="Bottom"
							      Visibility="{Binding IsCollapsed,
							                           Converter={StaticResource NotBoolToVisConverter}}">
								<Rectangle Fill="Orange" Visibility="{Binding IsPinned, Converter={StaticResource BoolToVisConverter}}" />
							</Grid>
						</Grid>
					</Border>
					--><!--  Post Preview Message - Not Collapsed  --><!--
					<Grid Grid.Column="1">
						<Grid.RowDefinitions>
							<RowDefinition Height="*" />
							<RowDefinition Height="Auto" />
						</Grid.RowDefinitions>
						<Grid Grid.Row="0" Margin="6,2,2,2">
							<TextBlock Height="68"
							           Foreground="{Binding HasNewReplies,
							                                Converter={StaticResource NewReplyConverter}}"
							           Text="{Binding Preview}"
							           TextTrimming="CharacterEllipsis"
							           TextWrapping="Wrap"
							           Visibility="{Binding IsCollapsed,
							                                Converter={StaticResource NotBoolToVisConverter}}" />
							--><!--  Post Preview Message - Collapsed  --><!--
							<TextBlock Height="20"
							           VerticalAlignment="Center"
							           Foreground="{Binding HasNewReplies,
							                                Converter={StaticResource NewReplyConverter}}"
							           Text="{Binding Preview}"
							           TextTrimming="CharacterEllipsis"
							           TextWrapping="Wrap"
							           Visibility="{Binding IsCollapsed,
							                                Converter={StaticResource BoolToVisConverter}}" />
						</Grid>
						<StackPanel Grid.Row="1"
						            Margin="2,0,0,0"
						            VerticalAlignment="Bottom"
						            Orientation="Horizontal"
						            Visibility="{Binding IsCollapsed,
						                                 Converter={StaticResource NotBoolToVisConverter}}">
							<Rectangle Width="{Binding LolCount,
							                           Converter={StaticResource LolIndicatorConverter}}"
							           Height="{Binding LolCount,
							                            Converter={StaticResource LolIndicatorConverter}}"
							           MinWidth="5"
							           MinHeight="5"
							           MaxWidth="12"
							           MaxHeight="12"
							           Margin="1"
							           VerticalAlignment="Bottom"
							           Fill="#FF8800"
							           Visibility="{Binding LolCount,
							                                Converter={StaticResource GreaterThanZeroVisibilityConverter}}" />
							<Rectangle Width="{Binding InfCount,
							                           Converter={StaticResource LolIndicatorConverter}}"
							           Height="{Binding InfCount,
							                            Converter={StaticResource LolIndicatorConverter}}"
							           MinWidth="5"
							           MinHeight="5"
							           MaxWidth="12"
							           MaxHeight="12"
							           Margin="1"
							           VerticalAlignment="Bottom"
							           Fill="#0099CC"
							           Visibility="{Binding InfCount,
							                                Converter={StaticResource GreaterThanZeroVisibilityConverter}}" />
							<Rectangle Width="{Binding UnfCount,
							                           Converter={StaticResource LolIndicatorConverter}}"
							           Height="{Binding UnfCount,
							                            Converter={StaticResource LolIndicatorConverter}}"
							           MinWidth="5"
							           MinHeight="5"
							           MaxWidth="12"
							           MaxHeight="12"
							           Margin="1"
							           VerticalAlignment="Bottom"
							           Fill="#FF0000"
							           Visibility="{Binding UnfCount,
							                                Converter={StaticResource GreaterThanZeroVisibilityConverter}}" />
							<Rectangle Width="{Binding TagCount,
							                           Converter={StaticResource LolIndicatorConverter}}"
							           Height="{Binding TagCount,
							                            Converter={StaticResource LolIndicatorConverter}}"
							           MinWidth="5"
							           MinHeight="5"
							           MaxWidth="12"
							           MaxHeight="12"
							           Margin="1"
							           VerticalAlignment="Bottom"
							           Fill="#77BB22"
							           Visibility="{Binding TagCount,
							                                Converter={StaticResource GreaterThanZeroVisibilityConverter}}" />
							<Rectangle Width="{Binding WtfCount,
							                           Converter={StaticResource LolIndicatorConverter}}"
							           Height="{Binding WtfCount,
							                            Converter={StaticResource LolIndicatorConverter}}"
							           MinWidth="5"
							           MinHeight="5"
							           MaxWidth="12"
							           MaxHeight="12"
							           Margin="1"
							           VerticalAlignment="Bottom"
							           Fill="#C000C0"
							           Visibility="{Binding WtfCount,
							                                Converter={StaticResource GreaterThanZeroVisibilityConverter}}" />
							<Rectangle Width="{Binding UghCount,
							                           Converter={StaticResource LolIndicatorConverter}}"
							           Height="{Binding UghCount,
							                            Converter={StaticResource LolIndicatorConverter}}"
							           MinWidth="5"
							           MinHeight="5"
							           MaxWidth="12"
							           MaxHeight="12"
							           Margin="1"
							           VerticalAlignment="Bottom"
							           Fill="#00BB00"
							           Visibility="{Binding UghCount,
							                                Converter={StaticResource GreaterThanZeroVisibilityConverter}}" />
						</StackPanel>
					</Grid>
				</Grid>
			</Grid>
			<Grid Background="Black"
			      Opacity=".4"
			      Visibility="{Binding IsCollapsed,
			                           Converter={StaticResource BoolToVisConverter}}" />
		</Grid>
	</DataTemplate>-->

    <DataTemplate x:Key="SinglePostWithPreview">
        <Grid x:Name="container">
            <Grid x:Name="preview">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Rectangle Grid.Column="0" Width="{Binding Depth, Converter={StaticResource IndentConverter}}" />
                <Grid x:Name="sizeGrid"
							      Grid.Column="1"
							      VerticalAlignment="Center">
					<Grid.ColumnDefinitions>
						<ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="26" />
                    </Grid.ColumnDefinitions>
                    <TextBlock x:Name="content"
								           Grid.Column="0"
								           Margin="2,0,0,0"
								           HorizontalAlignment="Left"
								           VerticalAlignment="Center"
								           Foreground="{Binding IsNew,
								                                Converter={StaticResource NewReplyConverter}}"
								           Text="{Binding Preview}"
								           TextWrapping="NoWrap" />
                    <TextBlock Grid.Column="1"
								           Margin="6,0,0,0"
								           HorizontalAlignment="Right"
								           VerticalAlignment="Center"
								           Foreground="{Binding AuthorType, Converter={StaticResource AuthorTypeToColorConverter}, Mode=OneTime}"
								           Text="{Binding Author, Mode=OneTime}"/>
					<!--
								           Visibility="{Binding Source={StaticResource CoreServices},
								                                Path=Instance.ShowAuthor,
								                                Converter={StaticResource BoolToVisConverter}}" -->
                    <StackPanel Grid.Column="2"
								            VerticalAlignment="Center"
								            Orientation="Horizontal">
                        <Rectangle Width="3"
									           Height="10"
									           Margin="1"
									           Fill="#FF8800"
									           Visibility="{Binding LolCount,
									                                Converter={StaticResource GreaterThanZeroVisibilityConverter}}" />
                        <Rectangle Width="3"
									           Height="10"
									           Margin="1"
									           Fill="#0099CC"
									           Visibility="{Binding InfCount,
									                                Converter={StaticResource GreaterThanZeroVisibilityConverter}}" />
                        <Rectangle Width="3"
									           Height="10"
									           Margin="1"
									           Fill="#FF0000"
									           Visibility="{Binding UnfCount,
									                                Converter={StaticResource GreaterThanZeroVisibilityConverter}}" />
                        <Rectangle Width="3"
									           Height="10"
									           Margin="1"
									           Fill="#77BB22"
									           Visibility="{Binding TagCount,
									                                Converter={StaticResource GreaterThanZeroVisibilityConverter}}" />
                        <Rectangle Width="3"
									           Height="10"
									           Margin="1"
									           Fill="#C000C0"
									           Visibility="{Binding WtfCount,
									                                Converter={StaticResource GreaterThanZeroVisibilityConverter}}" />
                        <Rectangle Width="3"
									           Height="10"
									           Margin="1"
									           Fill="#00BB00"
									           Visibility="{Binding UghCount,
									                                Converter={StaticResource GreaterThanZeroVisibilityConverter}}" />
                    </StackPanel>
                </Grid>
            </Grid>
            <Grid x:Name="commentSection" Visibility="Collapsed">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="5" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>
                <TextBlock x:Name="author"
							           Grid.Row="0"
							           HorizontalAlignment="Left"
							           FontSize="20"
							           Foreground="#ffba00"
							           Text="{Binding Author}" />

                <TextBlock x:Name="date"
							           Grid.Row="0"
							           HorizontalAlignment="Right"
							           FontSize="20"
							           Foreground="#888888"
							           Text="{Binding DateText}" />
                <Grid Grid.Row="1">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Rectangle Grid.Column="0" Width="{Binding Depth, Converter={StaticResource IndentConverter}}" />
                    <Rectangle Grid.Column="1" Fill="{Binding Category, Converter={StaticResource CategoryConverter}}" />
                </Grid>
                <WebView x:Name="bodyWebView"
							         Grid.Row="2"
							         Width="Auto"
							         Height="Auto"
							         HorizontalAlignment="Stretch"
							         />
                <Grid Grid.Row="3" Background="#212121">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <StackPanel Grid.Column="0"
								            HorizontalAlignment="Left"
								            VerticalAlignment="Bottom"
								            Orientation="Horizontal">
                        <StackPanel Orientation="Horizontal" Visibility="{Binding LolCount, Converter={StaticResource GreaterThanZeroVisibilityConverter}}">
                            <TextBlock Margin="0,0,4,0"
										           Foreground="#FF8800"
										           Text="{Binding LolCount}" />
                            <TextBlock Margin="0,0,6,0" Foreground="#FF8800">lols</TextBlock>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Visibility="{Binding InfCount, Converter={StaticResource GreaterThanZeroVisibilityConverter}}">
                            <TextBlock Margin="0,0,4,0"
										           Foreground="#0099CC"
										           Text="{Binding InfCount}" />
                            <TextBlock Margin="0,0,6,0" Foreground="#0099CC">infs</TextBlock>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Visibility="{Binding UnfCount, Converter={StaticResource GreaterThanZeroVisibilityConverter}}">
                            <TextBlock Margin="0,0,4,0"
										           Foreground="#FF0000"
										           Text="{Binding UnfCount}" />
                            <TextBlock Margin="0,0,6,0" Foreground="#FF0000">unfs</TextBlock>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Visibility="{Binding TagCount, Converter={StaticResource GreaterThanZeroVisibilityConverter}}">
                            <TextBlock Margin="0,0,4,0"
										           Foreground="#77BB22"
										           Text="{Binding TagCount}" />
                            <TextBlock Margin="0,0,6,0" Foreground="#77BB22">tags</TextBlock>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Visibility="{Binding WtfCount, Converter={StaticResource GreaterThanZeroVisibilityConverter}}">
                            <TextBlock Margin="0,0,4,0"
										           Foreground="#C000C0"
										           Text="{Binding WtfCount}" />
                            <TextBlock Margin="0,0,6,0" Foreground="#C000C0">wtfs</TextBlock>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Visibility="{Binding UghCount, Converter={StaticResource GreaterThanZeroVisibilityConverter}}">

                            <TextBlock Margin="0,0,4,0"
										           Foreground="#00BB00"
										           Text="{Binding UghCount}" />
                            <TextBlock Margin="0,0,6,0" Foreground="#00BB00">ughs</TextBlock>
                        </StackPanel>
                    </StackPanel>
                    <StackPanel Grid.Column="1"
								            HorizontalAlignment="Right"
								            FlowDirection="RightToLeft"
								            Orientation="Horizontal">
                        <ToggleButton x:Name="showReply"
									              AutomationProperties.HelpText="New Root Post"
									              IsChecked="False"
									              Style="{StaticResource CommentInlineButtonStyle}" />
                        <Button x:Name="tagButton" Style="{StaticResource TagInlineButtonStyle}">
                            <Button.Flyout>
                                <MenuFlyout>
                                    <MenuFlyoutItem Click="lolPostClicked">lol</MenuFlyoutItem>
                                    <MenuFlyoutItem Click="lolPostClicked">inf</MenuFlyoutItem>
                                    <MenuFlyoutItem Click="lolPostClicked">unf</MenuFlyoutItem>
                                    <MenuFlyoutItem Click="lolPostClicked">tag</MenuFlyoutItem>
                                </MenuFlyout>
                            </Button.Flyout>
                        </Button>
                    </StackPanel>
                </Grid>
                <controls:PostContol x:Name="replyArea"
							                     Grid.Row="4"
							                     DataContext="{Binding}"
							                     Visibility="{Binding ElementName=showReply,
							                                          Path=IsChecked,
							                                          Converter={StaticResource BoolToVisConverter},
							                                          Mode=TwoWay}" />
            </Grid>
        </Grid>
    </DataTemplate>
</ResourceDictionary>
